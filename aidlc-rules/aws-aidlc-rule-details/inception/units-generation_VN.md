# Tแบกo ฤฦกn vแป (Units Generation) - Cรกc bฦฐแปc Chi tiแบฟt

## Tแปng quan

Giai ฤoแบกn nรy phรขn rรฃ hแป thแปng thรnh cรกc ฤฦกn vแป cรดng viแปc cรณ thแป quแบฃn lรฝ thรดng qua hai phแบงn tรญch hแปฃp:

- **Phแบงn 1 - Lแบญp kแบฟ hoแบกch**: Tแบกo kแบฟ hoแบกch phรขn rรฃ vแปi cรกc cรขu hแปi, thu thแบญp cรขu trแบฃ lแปi, phรขn tรญch sแปฑ mฦก hแป, nhแบญn phรช duyแปt
- **Phแบงn 2 - Tแบกo**: Thแปฑc thi kแบฟ hoแบกch ฤรฃ ฤฦฐแปฃc phรช duyแปt ฤแป tแบกo artifact ฤฦกn vแป

**ฤแปNH NGHฤจA**: Mแปt ฤฦกn vแป cรดng viแปc lร mแปt nhรณm logic cรกc stories cho mแปฅc ฤรญch phรกt triแปn. ฤแปi vแปi vi dแปch vแปฅ, mแปi ฤฦกn vแป trแป thรnh mแปt dแปch vแปฅ cรณ thแป triแปn khai ฤแปc lแบญp. ฤแปi vแปi monoliths, ฤฦกn vแป ฤฦกn lแบป ฤแบกi diแปn cho toรn bแป แปฉng dแปฅng vแปi cรกc mรด-ฤun logic.

**Thuแบญt ngแปฏ**: Sแปญ dแปฅng "Dแปch vแปฅ" cho cรกc thรnh phแบงn cรณ thแป triแปn khai ฤแปc lแบญp, "Mรด-ฤun" cho cรกc nhรณm logic trong mแปt dแปch vแปฅ, "ฤฦกn vแป Cรดng viแปc" cho ngแปฏ cแบฃnh lแบญp kแบฟ hoแบกch.

## ฤiแปu kiแปn Tiรชn quyแบฟt

- ฤรกnh giรก Ngแปฏ cแบฃnh phแบฃi hoรn thรnh
- ฤรกnh giรก Yรชu cแบงu ฤฦฐแปฃc khuyแบฟn nghแป (cung cแบฅp phแบกm vi chแปฉc nฤng)
- Phรกt triแปn Story ฤฦฐแปฃc khuyแบฟn nghแป (stories รกnh xแบก tแปi cรกc ฤฦกn vแป)
- Giai ฤoแบกn Thiแบฟt kแบฟ แปจng dแปฅng BแบฎT BUแปC (xรกc ฤแปnh thรnh phแบงn, phฦฐฦกng thแปฉc vร dแปch vแปฅ)
- Kแบฟ hoแบกch thแปฑc hiแปn phแบฃi chแป ra giai ฤoแบกn Thiแบฟt kแบฟ nรชn thแปฑc thi

---

# PHแบฆN 1: LแบฌP Kแบพ HOแบCH

## Bฦฐแปc 1: Tแบกo Kแบฟ hoแบกch ฤฦกn vแป Cรดng viแปc

- Tแบกo kแบฟ hoแบกch vแปi checkbox [] ฤแป phรขn rรฃ hแป thแปng thรnh cรกc ฤฦกn vแป cรดng viแปc
- Tแบญp trung vรo viแปc chia nhแป hแป thแปng thรnh cรกc ฤฦกn vแป phรกt triแปn cรณ thแป quแบฃn lรฝ
- Mแปi bฦฐแปc vร bฦฐแปc con nรชn cรณ mแปt checkbox []

## Bฦฐแปc 2: Bao gแปm Artifact ฤฦกn vแป Bแบฏt buแปc trong Kแบฟ hoแบกch

**LUรN LUรN** bao gแปm cรกc artifact bแบฏt buแปc nรy trong kแบฟ hoแบกch ฤฦกn vแป:

- [ ] Tแบกo `aidlc-docs/inception/application-design/unit-of-work.md` vแปi ฤแปnh nghฤฉa ฤฦกn vแป vร trรกch nhiแปm
- [ ] Tแบกo `aidlc-docs/inception/application-design/unit-of-work-dependency.md` vแปi ma trแบญn phแปฅ thuแปc
- [ ] Tแบกo `aidlc-docs/inception/application-design/unit-of-work-story-map.md` รกnh xแบก stories tแปi cรกc ฤฦกn vแป
- [ ] **Chแป Greenfield**: Ghi lแบกi chiแบฟn lฦฐแปฃc tแป chแปฉc mรฃ trong `unit-of-work.md` (xem code-generation.md cho cรกc mแบซu cแบฅu trรบc)
- [ ] Xรกc thแปฑc ranh giแปi ฤฦกn vแป vร phแปฅ thuแปc
- [ ] ฤแบฃm bแบฃo tแบฅt cแบฃ cรกc stories ฤฦฐแปฃc gรกn cho cรกc ฤฦกn vแป

## Bฦฐแปc 3: Tแบกo Cรขu hแปi Phรน hแปฃp Ngแปฏ cแบฃnh

**CHแป THแป**: Phรขn tรญch cรกc yรชu cแบงu, stories, vร thiแบฟt kแบฟ แปฉng dแปฅng ฤแป tแบกo ra CHแป cรกc cรขu hแปi liรชn quan ฤแบฟn vแบฅn ฤแป phรขn rรฃ cแปฅ thแป NรY. Sแปญ dแปฅng cรกc danh mแปฅc bรชn dฦฐแปi lรm cแบฃm hแปฉng, KHรNG phแบฃi lร danh sรกch kiแปm tra bแบฏt buแปc. Bแป qua toรn bแป danh mแปฅc nแบฟu khรดng รกp dแปฅng.

- NHรNG cรขu hแปi sแปญ dแปฅng ฤแปnh dแบกng thแบป [Answer]:
- Tแบญp trung vรo sแปฑ mฦก hแป vร thรดng tin cรฒn thiแบฟu cแปฅ thแป cho ngแปฏ cแบฃnh nรy
- Chแป tแบกo cรขu hแปi khi ฤแบงu vรo cแปงa ngฦฐแปi dรนng lร cแบงn thiแบฟt cho viแปc ra quyแบฟt ฤแปnh

**Cรกc danh mแปฅc cรขu hแปi vรญ dแปฅ** (ฤiแปu chแปnh khi cแบงn thiแบฟt):

- **Nhรณm Story** - Chแป khi nhiแปu stories tแปn tแบกi vร chiแบฟn lฦฐแปฃc nhรณm khรดng rรต rรng
- **Phแปฅ thuแปc** - Chแป khi cรณ nhiแปu khแบฃ nฤng ฤฦกn vแป vร cรกch tiแบฟp cแบญn tรญch hแปฃp bแป mฦก hแป
- **Sแปฑ liรชn kแบฟt Nhรณm** - Chแป khi cแบฅu trรบc nhรณm hoแบทc quyแปn sแป hแปฏu khรดng rรต rรng
- **Cรขn nhแบฏc Kแปน thuแบญt** - Chแป khi yรชu cแบงu vแป khแบฃ nฤng mแป rแปng/triแปn khai khรกc nhau giแปฏa cรกc ฤฦกn vแป
- **Miแปn Kinh doanh** - Chแป khi ranh giแปi miแปn hoแบทc ngแปฏ cแบฃnh giแปi hแบกn (bounded contexts) khรดng rรต rรng
- **Tแป chแปฉc Mรฃ (Chแป Greenfield ฤa ฤฦกn vแป)** - Hแปi mรด hรฌnh triแปn khai vร sแป thรญch cแบฅu trรบc thฦฐ mแปฅc

## Bฦฐแปc 4: Lฦฐu trแปฏ Kแบฟ hoแบกch UOW

- Lฦฐu dฦฐแปi dแบกng `aidlc-docs/inception/plans/unit-of-work-plan.md`
- Bao gแปm tแบฅt cแบฃ cรกc thแบป [Answer]: cho ฤแบงu vรo cแปงa ngฦฐแปi dรนng
- ฤแบฃm bแบฃo kแบฟ hoแบกch bao gแปm tแบฅt cแบฃ cรกc khรญa cแบกnh cแปงa phรขn rรฃ hแป thแปng

## Bฦฐแปc 5: Yรชu cแบงu ฤแบงu vรo Ngฦฐแปi dรนng

- Yรชu cแบงu ngฦฐแปi dรนng ฤiแปn vรo cรกc thแบป [Answer]: trแปฑc tiแบฟp trong tรi liแปu kแบฟ hoแบกch
- Nhแบฅn mแบกnh tแบงm quan trแปng cแปงa cรกc quyแบฟt ฤแปnh phรขn rรฃ
- Cung cแบฅp hฦฐแปng dแบซn rรต rรng vแป viแปc hoรn thรnh cรกc thแบป [Answer]:

## Bฦฐแปc 6: Thu thแบญp Cรขu trแบฃ lแปi

- Chแป ngฦฐแปi dรนng cung cแบฅp cรขu trแบฃ lแปi cho tแบฅt cแบฃ cรกc cรขu hแปi sแปญ dแปฅng thแบป [Answer]: trong tรi liแปu
- Khรดng tiแบฟp tแปฅc cho ฤแบฟn khi TแบคT Cแบข cรกc thแบป [Answer]: ฤฦฐแปฃc hoรn thรnh
- Xem xรฉt tรi liแปu ฤแป ฤแบฃm bแบฃo khรดng cรณ thแบป [Answer]: nรo bแป bแป trแปng

## Bฦฐแปc 7: PHรN TรCH CรU TRแบข LแปI (BแบฎT BUแปC)

Trฦฐแปc khi tiแบฟp tแปฅc, bแบกn PHแบขI xem xรฉt cแบฉn thแบญn tแบฅt cแบฃ cรกc cรขu trแบฃ lแปi cแปงa ngฦฐแปi dรนng cho:

- **Phแบฃn hแปi mฦก hแป hoแบทc khรดng rรต rรng**: "kแบฟt hแปฃp cแปงa", "ฤรขu ฤรณ giแปฏa", "khรดng chแบฏc", "phแปฅ thuแปc"
- **Tiรชu chรญ hoแบทc thuแบญt ngแปฏ khรดng xรกc ฤแปnh**: Tham chiแบฟu ฤแบฟn cรกc khรกi niแปm mร khรดng cรณ ฤแปnh nghฤฉa rรต rรng
- **Cรขu trแบฃ lแปi mรขu thuแบซn**: Phแบฃn hแปi xung ฤแปt vแปi nhau
- **Thiแบฟu chi tiแบฟt tแบกo**: Cรขu trแบฃ lแปi thiแบฟu hฦฐแปng dแบซn cแปฅ thแป
- **Cรขu trแบฃ lแปi kแบฟt hแปฃp cรกc tรนy chแปn**: Phแบฃn hแปi hแปฃp nhแบฅt cรกc cรกch tiแบฟp cแบญn khรกc nhau mร khรดng cรณ quy tแบฏc quyแบฟt ฤแปnh rรต rรng

## Bฦฐแปc 8: Cรขu hแปi Tiแบฟp theo BแบฎT BUแปC

Nแบฟu phรขn tรญch แป bฦฐแปc 7 tiแบฟt lแป BแบคT Kแปฒ cรขu trแบฃ lแปi mฦก hแป nรo, bแบกn PHแบขI:

- Thรชm cรกc cรขu hแปi tiแบฟp theo cแปฅ thแป vรo tรi liแปu kแบฟ hoแบกch sแปญ dแปฅng thแบป [Answer]:
- KHรNG tiแบฟp tแปฅc ฤแบฟn phรช duyแปt cho ฤแบฟn khi tแบฅt cแบฃ cรกc sแปฑ mฦก hแป ฤฦฐแปฃc giแบฃi quyแบฟt
- Vรญ dแปฅ vแป cรกc cรขu hแปi tiแบฟp theo bแบฏt buแปc:
  - "Bแบกn ฤรฃ ฤแป cแบญp 'kแบฟt hแปฃp cแปงa A vร B' - tiรชu chรญ cแปฅ thแป nรo nรชn xรกc ฤแปnh khi nรo sแปญ dแปฅng A so vแปi B?"
  - "Bแบกn nรณi 'ฤรขu ฤรณ giแปฏa A vร B' - bแบกn cรณ thแป ฤแปnh nghฤฉa cรกch tiแบฟp cแบญn trung gian chรญnh xรกc khรดng?"
  - "Bแบกn ฤรฃ chแป ra 'khรดng chแบฏc' - thรดng tin bแป sung nรo sแบฝ giรบp bแบกn quyแบฟt ฤแปnh?"
  - "Bแบกn ฤรฃ ฤแป cแบญp 'phแปฅ thuแปc vรo ฤแป phแปฉc tแบกp' - bแบกn ฤแปnh nghฤฉa cรกc mแปฉc ฤแป phแปฉc tแบกp nhฦฐ thแบฟ nรo?"

## Bฦฐแปc 9: Yรชu cแบงu Phรช duyแปt

- Hแปi: "**Unit of work plan complete. Review the plan in aidlc-docs/inception/plans/unit-of-work-plan.md. Ready to proceed to generation?**"
- KHรNG TIแบพP TแปคC cho ฤแบฟn khi ngฦฐแปi dรนng xรกc nhแบญn

## Bฦฐแปc 10: Ghi nhแบญt kรฝ Phรช duyแปt

- Ghi nhแบญt kรฝ nhแบฏc nhแป vร phแบฃn hแปi trong audit.md vแปi dแบฅu thแปi gian
- Sแปญ dแปฅng ฤแปnh dแบกng dแบฅu thแปi gian ISO 8601
- Bao gแปm vฤn bแบฃn nhแบฏc nhแป phรช duyแปt hoรn chแปnh

## Bฦฐแปc 11: Cแบญp nhแบญt Tiแบฟn ฤแป

- ฤรกnh dแบฅu Lแบญp kแบฟ hoแบกch ฤฦกn vแป hoรn thรnh trong aidlc-state.md
- Cแบญp nhแบญt phแบงn "Trแบกng thรกi Hiแปn tแบกi"
- Chuแบฉn bแป chuyแปn sang Tแบกo ฤฦกn vแป

---

# PHแบฆN 2: TแบO

## Bฦฐแปc 12: Tแบฃi Kแบฟ hoแบกch ฤฦกn vแป Cรดng viแปc

- [ ] ฤแปc kแบฟ hoแบกch hoรn chแปnh tแปซ `aidlc-docs/inception/plans/unit-of-work-plan.md`
- [ ] Xรกc ฤแปnh bฦฐแปc chฦฐa hoรn thรnh tiแบฟp theo (checkbox [ ] ฤแบงu tiรชn)
- [ ] Tแบฃi ngแปฏ cแบฃnh vร yรชu cแบงu cho bฦฐแปc ฤรณ

## Bฦฐแปc 13: Thแปฑc thi Bฦฐแปc Hiแปn tแบกi

- [ ] Thแปฑc hiแปn chรญnh xรกc nhแปฏng gรฌ bฦฐแปc hiแปn tแบกi mรด tแบฃ
- [ ] Tแบกo artifact ฤฦกn vแป nhฦฐ ฤฦฐแปฃc chแป ฤแปnh trong kแบฟ hoแบกch
- [ ] Tuรขn theo cรกch tiแบฟp cแบญn phรขn rรฃ ฤรฃ ฤฦฐแปฃc phรช duyแปt tแปซ Lแบญp kแบฟ hoแบกch
- [ ] Sแปญ dแปฅng cรกc tiรชu chรญ vร ranh giแปi ฤฦฐแปฃc chแป ฤแปnh trong kแบฟ hoแบกch

## Bฦฐแปc 14: Cแบญp nhแบญt Tiแบฟn ฤแป

- [ ] ฤรกnh dแบฅu bฦฐแปc ฤรฃ hoรn thรnh lร [x] trong kแบฟ hoแบกch ฤฦกn vแป cรดng viแปc
- [ ] Cแบญp nhแบญt trแบกng thรกi hiแปn tแบกi `aidlc-docs/aidlc-state.md`
- [ ] Lฦฐu tแบฅt cแบฃ cรกc artifact ฤรฃ tแบกo

## Bฦฐแปc 15: Tiแบฟp tแปฅc hoแบทc Hoรn thรnh

- [ ] Nแบฟu cรฒn bฦฐแปc, quay lแบกi Bฦฐแปc 12
- [ ] Nแบฟu tแบฅt cแบฃ cรกc bฦฐแปc hoรn thรnh, xรกc minh cรกc ฤฦกn vแป ฤรฃ sแบตn sรng cho cรกc giai ฤoแบกn thiแบฟt kแบฟ
- [ ] ฤรกnh dแบฅu giai ฤoแบกn Tแบกo ฤฦกn vแป lร hoรn thรnh

## Bฦฐแปc 16: Trรฌnh bรy Thรดng ฤiแปp Hoรn thรnh

```markdown
# ๐ง Units Generation Complete

[AI-generated summary of units and decomposition created in bullet points]

> **๐ <u>**REVIEW REQUIRED:**</u>**  
> Please examine the units generation artifacts at: `aidlc-docs/inception/application-design/`

> **๐ <u>**WHAT'S NEXT?**</u>**
>
> **You may:**
>
> ๐ง **Request Changes** - Ask for modifications to the units generation if required
> โ **Approve & Continue** - Approve units and proceed to **CONSTRUCTION PHASE**
```

## Bฦฐแปc 17: Chแป Phรช duyแปt Rรต rรng

- Khรดng tiแบฟp tแปฅc cho ฤแบฟn khi ngฦฐแปi dรนng phรช duyแปt rรต rรng viแปc tแบกo ฤฦกn vแป
- Phรช duyแปt phแบฃi rรต rรng vร khรดng mฦก hแป
- Nแบฟu ngฦฐแปi dรนng yรชu cแบงu thay ฤแปi, cแบญp nhแบญt cรกc ฤฦกn vแป vร lแบทp lแบกi quy trรฌnh phรช duyแปt

## Bฦฐแปc 18: Ghi lแบกi Phแบฃn hแปi Phรช duyแปt

- Ghi nhแบญt kรฝ phแบฃn hแปi phรช duyแปt cแปงa ngฦฐแปi dรนng vแปi dแบฅu thแปi gian trong `aidlc-docs/audit.md`
- Bao gแปm vฤn bแบฃn phแบฃn hแปi chรญnh xรกc cแปงa ngฦฐแปi dรนng
- ฤรกnh dแบฅu trแบกng thรกi phรช duyแปt rรต rรng

## Bฦฐแปc 19: Cแบญp nhแบญt Tiแบฟn ฤแป

- ฤรกnh dแบฅu giai ฤoแบกn Tแบกo ฤฦกn vแป hoรn thรnh trong `aidlc-docs/aidlc-state.md`
- Cแบญp nhแบญt phแบงn "Trแบกng thรกi Hiแปn tแบกi"
- Chuแบฉn bแป chuyแปn sang GIAI ฤOแบN XรY DแปฐNG

---

## Cรกc Quy tแบฏc Quan trแปng

### Quy tแบฏc Giai ฤoแบกn Lแบญp kแบฟ hoแบกch

- Tแบกo CHแป cรกc cรขu hแปi phรน hแปฃp vแปi ngแปฏ cแบฃnh
- Sแปญ dแปฅng ฤแปnh dแบกng thแบป [Answer]: cho tแบฅt cแบฃ cรกc cรขu hแปi
- Phรขn tรญch tแบฅt cแบฃ cรกc cรขu trแบฃ lแปi cho sแปฑ mฦก hแป trฦฐแปc khi tiแบฟp tแปฅc
- Giแบฃi quyแบฟt TแบคT Cแบข sแปฑ mฦก hแป vแปi cรกc cรขu hแปi tiแบฟp theo
- Nhแบญn phรช duyแปt rรต rรng cแปงa ngฦฐแปi dรนng trฦฐแปc khi bแบฏt ฤแบงu tแบกo

### Quy tแบฏc Giai ฤoแบกn Tแบกo

- **KHรNG LOGIC ฤฦฏแปขC Mร HรA CแปจNG**: Chแป thแปฑc thi nhแปฏng gรฌ ฤฦฐแปฃc viแบฟt trong kแบฟ hoแบกch ฤฦกn vแป cรดng viแปc
- **TUรN THEO Kแบพ HOแบCH CHรNH XรC**: Khรดng ฤi chแปch khแปi trรฌnh tแปฑ bฦฐแปc
- **CแบฌP NHแบฌT CHECKBOX**: ฤรกnh dแบฅu [x] ngay lแบญp tแปฉc sau khi hoรn thรnh mแปi bฦฐแปc
- **Sแปฌ DแปคNG CรCH TIแบพP CแบฌN ฤฦฏแปขC PHร DUYแปT**: Tuรขn theo phฦฐฦกng phรกp phรขn rรฃ tแปซ Lแบญp kแบฟ hoแบกch
- **XรC MINH HOรN THรNH**: ฤแบฃm bแบฃo tแบฅt cแบฃ cรกc artifact ฤฦกn vแป hoรn thรnh trฦฐแปc khi tiแบฟp tแปฅc

## Tiรชu chรญ Hoรn thรnh

- Tแบฅt cแบฃ cรกc cรขu hแปi lแบญp kแบฟ hoแบกch ฤรฃ ฤฦฐแปฃc trแบฃ lแปi vร sแปฑ mฦก hแป ฤรฃ ฤฦฐแปฃc giแบฃi quyแบฟt
- Phรช duyแปt cแปงa ngฦฐแปi dรนng ฤรฃ ฤแบกt ฤฦฐแปฃc cho kแบฟ hoแบกch
- Tแบฅt cแบฃ cรกc bฦฐแปc trong kแบฟ hoแบกch ฤฦกn vแป cรดng viแปc ฤฦฐแปฃc ฤรกnh dแบฅu [x]
- Tแบฅt cแบฃ cรกc artifact ฤฦกn vแป ฤฦฐแปฃc tแบกo theo kแบฟ hoแบกch:
  - `unit-of-work.md` vแปi cรกc ฤแปnh nghฤฉa ฤฦกn vแป
  - `unit-of-work-dependency.md` vแปi ma trแบญn phแปฅ thuแปc
  - `unit-of-work-story-map.md` vแปi cรกc รกnh xแบก story
- Cรกc ฤฦกn vแป ฤฦฐแปฃc xรกc minh vร sแบตn sรng cho cรกc giai ฤoแบกn thiแบฟt kแบฟ theo ฤฦกn vแป
